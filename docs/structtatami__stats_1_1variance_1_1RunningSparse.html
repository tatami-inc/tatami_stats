<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>tatami_stats: tatami_stats::variance::RunningSparse&lt; skip_nan_, skip_zeros_, Output_, Index_, Nonzero_ &gt; Struct Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">tatami_stats
   </div>
   <div id="projectbrief">Matrix statistics for tatami</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>tatami_stats</b></li><li class="navelem"><a class="el" href="namespacetatami__stats_1_1variance.html">variance</a></li><li class="navelem"><a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html">RunningSparse</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="structtatami__stats_1_1variance_1_1RunningSparse-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">tatami_stats::variance::RunningSparse&lt; skip_nan_, skip_zeros_, Output_, Index_, Nonzero_ &gt; Struct Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Running variances from sparse data.  
 <a href="structtatami__stats_1_1variance_1_1RunningSparse.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="variances_8hpp_source.html">variances.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4001766fc0655ba6a52464f58fa0a6ba" id="r_a4001766fc0655ba6a52464f58fa0a6ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html#a4001766fc0655ba6a52464f58fa0a6ba">RunningSparse</a> (<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a> num, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a> *mean, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a> *variance, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a> *nonzero, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a> subtract=0)</td></tr>
<tr class="separator:a4001766fc0655ba6a52464f58fa0a6ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6428935ce14f1681ee6407ec9ef65252" id="r_a6428935ce14f1681ee6407ec9ef65252"><td class="memTemplParams" colspan="2">template&lt;<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Value_</a> &gt; </td></tr>
<tr class="memitem:a6428935ce14f1681ee6407ec9ef65252"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">void</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html#a6428935ce14f1681ee6407ec9ef65252">add</a> (<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">const</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Value_</a> *<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">value</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">const</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a> *index, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">number</a>)</td></tr>
<tr class="separator:a6428935ce14f1681ee6407ec9ef65252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7245c4381b6bd88bf8b442dae7d9aef" id="r_ac7245c4381b6bd88bf8b442dae7d9aef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">void</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html#ac7245c4381b6bd88bf8b442dae7d9aef">finish</a> ()</td></tr>
<tr class="separator:ac7245c4381b6bd88bf8b442dae7d9aef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_nan_ = false, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_zeros_ = true, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a> = double, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a> = int, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a> = int&gt;<br />
struct tatami_stats::variance::RunningSparse&lt; skip_nan_, skip_zeros_, Output_, Index_, Nonzero_ &gt;</div><p>Running variances from sparse data. </p>
<p>Compute running means and variances from sparse data using Welford's method. This does the same as its dense overload for sparse observed vectors.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">skip_nan_</td><td>Whether to check for (and skip) NaNs. </td></tr>
    <tr><td class="paramname">skip_zeros</td><td>Whether non-structural zeros in <code>range.value</code> should be skipped. If <code>false</code>, the output <code>nonzeros</code> instead contains the number of <em>structural</em> non-zero values in each target vector, which may be useful for informing further operations on the compressed sparse matrix structure. Note that this choice has no effect on the computed means or variances, besides some differences due to numeric imprecision. </td></tr>
    <tr><td class="paramname">Output_</td><td>Type of the output data. </td></tr>
    <tr><td class="paramname">Index_</td><td>Type of the row/column indices. </td></tr>
    <tr><td class="paramname">Nonzero_</td><td>Type of the non-zero counts. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4001766fc0655ba6a52464f58fa0a6ba" name="a4001766fc0655ba6a52464f58fa0a6ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4001766fc0655ba6a52464f58fa0a6ba">&#9670;&#160;</a></span>RunningSparse()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_nan_ = false, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_zeros_ = true, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a>  = double, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>  = int, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a>  = int&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html">tatami_stats::variance::RunningSparse</a>&lt; <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">skip_nan_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">skip_zeros_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a> &gt;::RunningSparse </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a> *&#160;</td>
          <td class="paramname"><em>mean</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a> *&#160;</td>
          <td class="paramname"><em>variance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a> *&#160;</td>
          <td class="paramname"><em>nonzero</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>&#160;</td>
          <td class="paramname"><em>subtract</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">num</td><td>Number of target vectors. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">mean</td><td>Pointer to an output array of length <code>num</code>, containing the means for each target vector. This should be zeroed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">variance</td><td>Pointer to an output array of length <code>num</code>, containing the variances for each target vector. This should be zeroed. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">nonzero</td><td>Pointer to an output array of length <code>num</code> containing the number of non-zeros for each target vector. This should be zeroed. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">subtract</td><td>Offset to subtract from each element of <code>index</code> before using it to index into <code>mean</code> and friends. Only relevant if <code>mean</code> and friends hold statistics for a contiguous subset of target vectors, e.g., during task allocation for parallelization. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6428935ce14f1681ee6407ec9ef65252" name="a6428935ce14f1681ee6407ec9ef65252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6428935ce14f1681ee6407ec9ef65252">&#9670;&#160;</a></span>add()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_nan_ = false, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_zeros_ = true, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a>  = double, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>  = int, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a>  = int&gt; </div>
<div class="memtemplate">
template&lt;<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Value_</a> &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">void</a> <a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html">tatami_stats::variance::RunningSparse</a>&lt; <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">skip_nan_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">skip_zeros_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a> &gt;::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">const</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Value_</a> *&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">const</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a> *&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>&#160;</td>
          <td class="paramname"><em>number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Add the next observed vector to the variance calculation. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Value_</td><td>Type of the input value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>Value of structural non-zero elements. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>Index of structural non-zero elements. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">number</td><td>Number of non-zero elements in <code>value</code> and <code>index</code>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac7245c4381b6bd88bf8b442dae7d9aef" name="ac7245c4381b6bd88bf8b442dae7d9aef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7245c4381b6bd88bf8b442dae7d9aef">&#9670;&#160;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;<a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_nan_ = false, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">bool</a> skip_zeros_ = true, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a>  = double, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>  = int, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">typename</a> <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a>  = int&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">void</a> <a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html">tatami_stats::variance::RunningSparse</a>&lt; <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">skip_nan_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">skip_zeros_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Output_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Index_</a>, <a class="el" href="medians_8hpp.html#af549d23598ddd855c1acba2042db6937">Nonzero_</a> &gt;::finish </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Finish the variance calculation once all observed vectors have been passed to <code><a class="el" href="structtatami__stats_1_1variance_1_1RunningSparse.html#a6428935ce14f1681ee6407ec9ef65252">add()</a></code>. </p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following file:<ul>
<li>tatami_stats/<a class="el" href="variances_8hpp_source.html">variances.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
